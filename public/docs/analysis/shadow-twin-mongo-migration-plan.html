
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="http://localhost:3000/docs/analysis/shadow-twin-mongo-migration-plan.html">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>Shadow-Twin: MongoDB-Planung und Migration (Batch) - Common Knowledge Scout</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/print.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#shadow-twin-mongodb-planung-und-migration-batch" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="Common Knowledge Scout" class="md-header__button md-logo" aria-label="Common Knowledge Scout" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Common Knowledge Scout
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Shadow-Twin: MongoDB-Planung und Migration (Batch)
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/bCommonsLAB/CommonKnowledgeScout" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Common Knowledge Scout" class="md-nav__button md-logo" aria-label="Common Knowledge Scout" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Common Knowledge Scout
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/bCommonsLAB/CommonKnowledgeScout" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/module-hierarchy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Module Hierarchy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/dependency-graph.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dependency Graph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/shadow-twin.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shadow-Twin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/pdf-transformation-phases.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF Transformation Phases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/mongodb-vector-search.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MongoDB Vector Search
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="shadow-twin-v2-only.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Shadow-Twin (v2-only)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="wizard-and-jobs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Wizard & External Jobs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="audio-jobs-transcript-only.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Audio/Video (no template)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="ingestion.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ingestion
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="storage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="markdown-page-splitting.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown Page Splitting
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Use Cases
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Use Cases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/library-setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/file-transformation-pdf.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    PDF Transformation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/file-transformation-media.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Media Transformation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/file-to-story.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File → Story (End-to-End)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/web-scraping.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Scraping
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/publishing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Publishing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/chat-exploration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chat & Story Mode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../use-cases/batch-operations.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Batch Operations
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Reference
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/file-index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    File Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Modules
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Modules
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/modules/library.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Library
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/modules/storage.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Storage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reference/modules/chat.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Chat
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#einordnung-und-ziel" class="md-nav__link">
    <span class="md-ellipsis">
      Einordnung und Ziel
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zielbild-zustand-nach-migration" class="md-nav__link">
    <span class="md-ellipsis">
      Zielbild (Zustand nach Migration)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vorschlag-datenmodell-mongodb" class="md-nav__link">
    <span class="md-ellipsis">
      Vorschlag Datenmodell (MongoDB)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#batchmigration-theoretischer-ablauf" class="md-nav__link">
    <span class="md-ellipsis">
      Batch‑Migration (theoretischer Ablauf)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategie-variante-a-libraryweit" class="md-nav__link">
    <span class="md-ellipsis">
      Strategie (Variante A: Library‑weit)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#featureflags-librarykonfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      Feature‑Flags (Library‑Konfiguration)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konkrete-feldnamen-srctypeslibraryts" class="md-nav__link">
    <span class="md-ellipsis">
      Konkrete Feldnamen (src/types/library.ts)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tests-validierung-der-umstellung" class="md-nav__link">
    <span class="md-ellipsis">
      Tests (Validierung der Umstellung)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrationscheckliste-prerun-run-postrun" class="md-nav__link">
    <span class="md-ellipsis">
      Migrations‑Checkliste (Pre‑Run / Run / Post‑Run)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testprotokolltemplate-minimal" class="md-nav__link">
    <span class="md-ellipsis">
      Testprotokoll‑Template (Minimal)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roundtripcheckliste-vergleichskriterien" class="md-nav__link">
    <span class="md-ellipsis">
      Round‑trip‑Checkliste (Vergleichskriterien)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#risiken-und-gegenmanahmen" class="md-nav__link">
    <span class="md-ellipsis">
      Risiken und Gegenmaßnahmen
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rollbackpfad-libraryweit" class="md-nav__link">
    <span class="md-ellipsis">
      Rollback‑Pfad (Library‑weit)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#konkrete-nachste-schritte-planung" class="md-nav__link">
    <span class="md-ellipsis">
      Konkrete nächste Schritte (Planung)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entscheidungspunkte" class="md-nav__link">
    <span class="md-ellipsis">
      Entscheidungspunkte
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="shadow-twin-mongodb-planung-und-migration-batch">Shadow-Twin: MongoDB-Planung und Migration (Batch)<a class="headerlink" href="#shadow-twin-mongodb-planung-und-migration-batch" title="Permanent link">&para;</a></h1>
<h2 id="einordnung-und-ziel">Einordnung und Ziel<a class="headerlink" href="#einordnung-und-ziel" title="Permanent link">&para;</a></h2>
<p>Wir sehen aktuell klare Performance-Engpässe beim Dateisystem-Scan und bei der Shadow‑Twin‑Auflösung. Die Idee, Shadow‑Twins primär in MongoDB zu speichern und das Filesystem optional zu machen, ist sinnvoll. Dadurch wird das Öffnen eines Ordners zu einem reinen Datenbankzugriff, der gut batchbar ist. Das reduziert Latenzen und entkoppelt UI‑Performance von Filesystem‑I/O.</p>
<p>Wichtig ist, dass wir die neue Speicherung <strong>deterministisch</strong> und <strong>konsistent</strong> gestalten. Ein Dokument pro <code>sourceId</code> (Original‑File) ist in der Praxis am einfachsten. Es hält alle Varianten (Transcript/Transformation) und referenziert binäre Artefakte über Blob‑URLs. Für Sharing bleibt ein optionaler Filesystem‑Write erhalten, der bewusst deaktivierbar ist.</p>
<p>Die Migration soll als <strong>Batch</strong> gedacht werden: gezielte Libraries werden einmalig importiert. Danach wird das System in einen Dual‑Read‑Modus gebracht (Mongo bevorzugt, Filesystem fallback). So bleibt der Betrieb stabil, während wir schrittweise umstellen.</p>
<h2 id="zielbild-zustand-nach-migration">Zielbild (Zustand nach Migration)<a class="headerlink" href="#zielbild-zustand-nach-migration" title="Permanent link">&para;</a></h2>
<ul>
<li>Shadow‑Twin‑Artefakte primär in MongoDB gespeichert.</li>
<li>Filesystem‑Speicherung optional pro Library (z. B. <code>shadowTwin.persistToFilesystem</code>).</li>
<li>UI lädt Shadow‑Twins eines Ordners als <strong>Batch</strong> aus MongoDB.</li>
<li>Filesystem‑Scan ist optional und nur für Legacy/Sharing notwendig.</li>
</ul>
<h2 id="vorschlag-datenmodell-mongodb">Vorschlag Datenmodell (MongoDB)<a class="headerlink" href="#vorschlag-datenmodell-mongodb" title="Permanent link">&para;</a></h2>
<p>Ein Dokument pro Quelle (<code>sourceId</code>). Einbettung der Fragmente in einem Dokument reduziert Query‑Overhead.</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;ObjectId&gt;&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;libraryId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ff73d3a2-...&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sourceId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fileId-original&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;sourceName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;document.pdf&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;parentId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;folderId&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;userEmail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user@example.com&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;artifacts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;transcript&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;de&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;markdown&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;md&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:00:00Z&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;updatedAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:05:00Z&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;transformation&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;templateName&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;de&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;markdown&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;md&gt;&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;frontmatter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;docType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;event&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">          </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:10:00Z&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;updatedAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:11:00Z&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;binaryFragments&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;page-001.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;kind&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://&lt;azure&gt;/.../page-001.png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;hash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;abcdef123456&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;mimeType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123456</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:12:00Z&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;filesystemSync&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;enabled&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;shadowTwinFolderId&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;lastSyncedAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:00:00Z&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;updatedAt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-22T12:11:00Z&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>Collection‑Namen:</strong> <code>shadow_twins__${libraryId}</code> (analog zu <code>vectors__${libraryId}</code>)</p>
<p><strong>Indizes (Minimum):</strong>
- <code>{ libraryId: 1, parentId: 1 }</code> für Ordner‑Batch‑Loading
- <code>{ libraryId: 1, sourceId: 1 }</code> unique
- <code>{ libraryId: 1, "artifacts.transformation.*.*.updatedAt": -1 }</code> optional, falls “latest transformation” benötigt wird</p>
<h2 id="batchmigration-theoretischer-ablauf">Batch‑Migration (theoretischer Ablauf)<a class="headerlink" href="#batchmigration-theoretischer-ablauf" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Scope bestimmen:</strong> Welche Libraries migriert werden (Batch‑Auswahl).</li>
<li><strong>Scan Quelle:</strong> Für jede Library: Ordnerinhalt einmalig laden, Shadow‑Twin‑Ordner/Dateien auflösen.</li>
<li><strong>Parse Artefakte:</strong> Transcript/Transformation anhand der bekannten Namenskonventionen erkennen.</li>
<li><strong>Persistieren:</strong> Ein Dokument pro <code>sourceId</code> upserten.</li>
<li><strong>Binary‑Assets:</strong> Bilder in Azure, URLs in Mongo speichern (vorhandene Upload‑Logik nutzen).</li>
<li><strong>Dual‑Read aktivieren:</strong> UI/Resolver liest primär aus Mongo; Filesystem fallback.</li>
<li><strong>Write‑Pfad ändern:</strong> Neue Shadow‑Twins zuerst in Mongo speichern; Filesystem optional.</li>
<li><strong>Validieren:</strong> Stichproben, Counts, Checksummen (z. B. Anzahl Artefakte je Quelle).</li>
</ol>
<h2 id="strategie-variante-a-libraryweit">Strategie (Variante A: Library‑weit)<a class="headerlink" href="#strategie-variante-a-libraryweit" title="Permanent link">&para;</a></h2>
<p>Diese Variante setzt auf einen klaren Library‑Modus, damit Verhalten deterministisch bleibt:
- <code>shadowTwin.primaryStore = "mongo"</code>
- <code>shadowTwin.persistToFilesystem = false</code> (Default)</p>
<h2 id="featureflags-librarykonfiguration">Feature‑Flags (Library‑Konfiguration)<a class="headerlink" href="#featureflags-librarykonfiguration" title="Permanent link">&para;</a></h2>
<p>Empfohlene Flags für eine kontrollierte Umstellung:
- <code>shadowTwin.primaryStore: "mongo" | "filesystem"</code><br />
  Legt fest, aus welcher Quelle <strong>primär</strong> gelesen wird.
- <code>shadowTwin.persistToFilesystem: boolean</code><br />
  Steuert, ob Shadow‑Twins zusätzlich ins Filesystem geschrieben werden.
- <code>shadowTwin.cleanupFilesystemOnMigrate: boolean</code><br />
  Löscht Shadow‑Twins aus dem Filesystem, <strong>nachdem</strong> sie erfolgreich in MongoDB persistiert wurden.
- <code>shadowTwin.allowFilesystemFallback: boolean</code><br />
  Erlaubt Legacy‑Fallback, falls MongoDB‑Eintrag fehlt.</p>
<h2 id="konkrete-feldnamen-srctypeslibraryts">Konkrete Feldnamen (src/types/library.ts)<a class="headerlink" href="#konkrete-feldnamen-srctypeslibraryts" title="Permanent link">&para;</a></h2>
<p>Die Feature‑Flags sind als Felder unter <code>Library.config.shadowTwin</code> vorgesehen:
- <code>config.shadowTwin.mode?: "legacy" | "v2"</code>
- <code>config.shadowTwin.primaryStore?: "filesystem" | "mongo"</code>
- <code>config.shadowTwin.persistToFilesystem?: boolean</code>
- <code>config.shadowTwin.cleanupFilesystemOnMigrate?: boolean</code>
- <code>config.shadowTwin.allowFilesystemFallback?: boolean</code></p>
<p>Default‑Logik (effektiv):
- <code>primaryStore = "filesystem"</code> (wenn nicht gesetzt)
- <code>persistToFilesystem = true</code> wenn <code>primaryStore = "filesystem"</code>, sonst <code>false</code>
- <code>cleanupFilesystemOnMigrate = false</code>
- <code>allowFilesystemFallback = true</code></p>
<p><strong>Ablauf (Migration):</strong>
1. MongoDB als primären Store aktivieren.
2. Shadow‑Twins in MongoDB schreiben (inkl. Azure‑URLs für Binary Assets).
3. Filesystem‑Shadow‑Twins nach erfolgreicher Persistierung löschen.
4. UI liest ab sofort aus Mongo (Filesystem nur fallback).</p>
<p><strong>Ablauf (Sharing):</strong>
1. <code>persistToFilesystem = true</code> setzen.
2. Batch‑Job schreibt alle Mongo‑Shadow‑Twins ins Filesystem (Original‑Layout).
3. Optional: bei <code>persistToFilesystem = false</code> wieder bereinigen.</p>
<h2 id="tests-validierung-der-umstellung">Tests (Validierung der Umstellung)<a class="headerlink" href="#tests-validierung-der-umstellung" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Zielzustand nach Migration</strong>  </li>
<li>Keine Shadow‑Twin‑Dateien im Filesystem  </li>
<li>Mongo enthält vollständige Artefakte  </li>
<li>
<p>UI lädt Shadow‑Twins ohne Filesystem‑Scan</p>
</li>
<li>
<p><strong>Round‑trip Test (Sharing an/aus)</strong>  </p>
</li>
<li><code>persistToFilesystem = true</code> ⇒ Filesystem‑Artefakte vorhanden  </li>
<li><code>persistToFilesystem = false</code> ⇒ Filesystem wieder bereinigt  </li>
<li>
<p>Dateinamen und Markdown‑Inhalte stimmen deterministisch überein</p>
</li>
<li>
<p><strong>Binary‑Assets</strong>  </p>
</li>
<li>URLs entsprechen exakt der bestehenden Azure‑Logik  </li>
<li>Keine doppelten Uploads bei wiederholter Migration</li>
</ol>
<h2 id="migrationscheckliste-prerun-run-postrun">Migrations‑Checkliste (Pre‑Run / Run / Post‑Run)<a class="headerlink" href="#migrationscheckliste-prerun-run-postrun" title="Permanent link">&para;</a></h2>
<p><strong>Pre‑Run</strong>
- Library‑Scope fixiert (IDs, Anzahl Quellen, Umfang)
- Backup / Snapshot der betroffenen Shadow‑Twin‑Ordner
- Feature‑Flags gesetzt (Planwerte dokumentiert)
- Test‑Library für Dry‑Run definiert</p>
<p><strong>Run</strong>
- Batch‑Import gestartet (Logging aktiv)
- Azure‑Upload aktiv (Bild‑URLs werden ersetzt)
- Mongo‑Upserts erfolgreich (Counts validieren)
- Optional: Filesystem‑Cleanup nach erfolgreichem Upsert</p>
<p><strong>Post‑Run</strong>
- Stichprobe: Artefakte aus Mongo lesen
- UI‑Smoke‑Test: Ordner öffnen, Icons sichtbar
- Round‑trip (Sharing an/aus) für Stichprobe
- Report archivieren (Counts, Fehler, Differenzen)</p>
<h2 id="testprotokolltemplate-minimal">Testprotokoll‑Template (Minimal)<a class="headerlink" href="#testprotokolltemplate-minimal" title="Permanent link">&para;</a></h2>
<p><strong>Ziel:</strong> Round‑trip Validierung (Mongo ↔ Filesystem)</p>
<p><strong>Setup</strong>
- Library ID:
- Datum:
- Tester:
- Flags: <code>primaryStore=</code>, <code>persistToFilesystem=</code>, <code>cleanupFilesystemOnMigrate=</code></p>
<p><strong>Durchlauf</strong>
- Schritt 1: Migration gestartet (Zeit: )
- Schritt 2: Mongo‑Count geprüft (Anzahl Artefakte: )
- Schritt 3: Filesystem‑Cleanup geprüft (Anzahl Shadow‑Twins: )
- Schritt 4: Sharing aktiviert (persistToFilesystem=true)
- Schritt 5: Round‑trip Vergleich (Dateiname/Frontmatter/Body/URLs)</p>
<p><strong>Ergebnis</strong>
- Bestanden: Ja/Nein
- Abweichungen (falls vorhanden):
- Notizen:</p>
<h2 id="roundtripcheckliste-vergleichskriterien">Round‑trip‑Checkliste (Vergleichskriterien)<a class="headerlink" href="#roundtripcheckliste-vergleichskriterien" title="Permanent link">&para;</a></h2>
<p>Damit der Test aussagekräftig ist, müssen die Artefakte <strong>deterministisch</strong> gleich sein:
- Dateiname exakt gleich (inkl. Template‑Name und Sprachsuffix)
- Frontmatter‑Felder identisch (Key‑Order egal, Werte gleich)
- Markdown‑Body identisch (Zeilenumbrüche normalisieren)
- Asset‑URLs identisch (Azure‑Pfad + Hash)
- Transkript/Transformation korrekt zugeordnet</p>
<h2 id="risiken-und-gegenmanahmen">Risiken und Gegenmaßnahmen<a class="headerlink" href="#risiken-und-gegenmanahmen" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Dateninkonsistenz (Mongo vs Filesystem)</strong>  </li>
<li>Risiko: Unterschiedliche Stände nach Migration.  </li>
<li>
<p>Gegenmaßnahme: Dual‑Read‑Phase + Vergleichslogik, Migrationsreport mit Differenzen.</p>
</li>
<li>
<p><strong>Große Dokumente (Mongo 16MB Limit)</strong>  </p>
</li>
<li>Risiko: Sehr große Markdown‑Artefakte + viele Fragmente.  </li>
<li>
<p>Gegenmaßnahme: Große Markdown‑Bodies optional in Blob‑Storage, Mongo nur Referenzen.</p>
</li>
<li>
<p><strong>Fehlende Template‑Zuordnung</strong>  </p>
</li>
<li>Risiko: Transformationen ohne Template‑Namen.  </li>
<li>
<p>Gegenmaßnahme: Heuristik „neueste Transformation“ + Flag <code>templateName: "unknown"</code>.</p>
</li>
<li>
<p><strong>Binary‑Assets im Filesystem</strong>  </p>
</li>
<li>Risiko: Bilder sind noch nicht in Azure.  </li>
<li>
<p>Gegenmaßnahme: Migration enthält Upload‑Schritt + URL‑Rewrite.</p>
</li>
<li>
<p><strong>Performance bei Batch‑Migration</strong>  </p>
</li>
<li>Risiko: I/O‑Last auf Filesystem.  </li>
<li>
<p>Gegenmaßnahme: Throttling, Chunk‑Batching, Lauf außerhalb UI‑Peak.</p>
</li>
<li>
<p><strong>Rollback‑Strategie</strong>  </p>
</li>
<li>Risiko: Migration erzeugt fehlerhafte Mongo‑Daten.  </li>
<li>Gegenmaßnahme: Mongo‑Writes über Version‑Feld; mit Flag deaktivierbar.</li>
</ol>
<h2 id="rollbackpfad-libraryweit">Rollback‑Pfad (Library‑weit)<a class="headerlink" href="#rollbackpfad-libraryweit" title="Permanent link">&para;</a></h2>
<ol>
<li><code>shadowTwin.primaryStore = "filesystem"</code></li>
<li><code>shadowTwin.persistToFilesystem = true</code></li>
<li>Batch‑Job „Rehydrate FS“ aus Mongo (oder Legacy‑FS als Quelle)</li>
<li><code>allowFilesystemFallback = true</code> für Stabilität in Übergangszeit</li>
</ol>
<h2 id="konkrete-nachste-schritte-planung">Konkrete nächste Schritte (Planung)<a class="headerlink" href="#konkrete-nachste-schritte-planung" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>Schema fixieren</strong> (finale Felder + Indexe).</li>
<li><strong>Library‑Flag definieren</strong> (<code>shadowTwin.persistToFilesystem</code> + <code>shadowTwin.primaryStore = "mongo"</code>).</li>
<li><strong>Batch‑Importer entwerfen</strong> (CLI oder API‑Route).</li>
<li><strong>Dual‑Read implementieren</strong> (Mongo zuerst, Filesystem fallback).</li>
<li><strong>Validation‑Report</strong> definieren (Counts, Sample‑Diffs).</li>
</ol>
<h2 id="entscheidungspunkte">Entscheidungspunkte<a class="headerlink" href="#entscheidungspunkte" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Ein Dokument vs mehrere Dokumente:</strong> Hier empfohlen: <strong>ein Dokument pro <code>sourceId</code></strong>.</li>
<li><strong>Binary‑Assets:</strong> URLs in Mongo, Inhalte in Azure (kein Filesystem‑Zugriff im UI).</li>
<li><strong>Rollback:</strong> Lesepfad kann per Feature‑Flag auf Filesystem zurückgestellt werden.</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="https://unpkg.com/mermaid@10.9.1/dist/mermaid.min.js"></script>
      
        <script src="../assets/javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>